# MySQL COUNT 注意事项 

**在 InnoDB 存储引擎下的 MySQL 中，COUNT(1), COUNT(*), 与 COUNT(字段名) 三者使用注意事项**

## COUNT(*) 和 COUNT(1)

COUNT(*) 和 COUNT(1) 都会计算表中的所有行，无论行中的列值是否为NULL。两者在性能上通常没有区别。

COUNT(*) 是 SQL92定义的标准统计行数的语法，所以一般建议使用`COUNT(*)`，以防止某些数据库不支持 COUNT(1)。

## COUNT(字段名)

COUNT(字段名)是计算指定列中**非NULL值**的数量，如果字段名不是索引字段，则会走全表扫描，性能更低，如果是索引字段，则性能上和count(*)、count(1)一样，会优先遍历索引。


## 大表 COUNT(*) 的优化

**在考虑性能，兼容性上，一般建议使用 COUNT(*)**。

但当数据量比较大时，COUNT(*)性能会明显下降，以下是一些优化方法：
- 额外创建**计数器表**用于存储数值，每当对原表进行插入或者删除操作时，同时更新这个计数器表。
- 如果不需要很精确的计数，可以使用 explain 或者 show table status 来查看表大小，获取一个近似值。
