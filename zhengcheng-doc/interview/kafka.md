# Kafka

## Kafka是如何做到高吞吐量、低延时的？

1. 大量使用操作系统页缓存，内存操作速度快且命中率高。
2. Kafka不直接参与物理I/O操作，而是交由最擅长此事的操作系统来完成。
3. 采用追加写入方式，摒弃了缓慢的磁盘随机读/操作。
4. 使用以sendfile为代表的零拷贝技术加强网络间的数据传输效率。

> 重点延伸问题：什么是零拷贝技术？

## 负载均衡(load balancing)和故障转移（fail-over）

Kafka实现负载均衡实际上是通过智能化的分区领导者选举（partition leader election）来实现的。

Kafka 是使用会话机制，每台Kafka服务器启动后会议会话的形式把自己注册到Zookeeper服务器上。一旦该服务器运转出现问题， 与Zookeeper服务器的会话就不能保持从而超时失效，此时Kafka集群会选举出另一台服务器来完全替代这台服务器继续提供服务。

> 重点延伸问题：Zookeeper等相关注册中心问题？